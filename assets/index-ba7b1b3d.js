import{u as p,e as y,a as N,j as e,q as w,B as o,L as x,C as v,A as E,s as R,t as S,w as b,x as m,O as I,v as $,y as C}from"./index-09a2bb1e.js";const A=new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});function D(a){return typeof a=="string"&&(a=new Date(a)),A.format(a)}const O="/gym-app/assets/empty-history-19fd88fb.svg";function F(){const a=p(),t=y(),h=N(s=>s.addRoutineExecution),g=()=>{if(!t)return;const l={id:$(),status:C.IN_PROGRESS,date:new Date().toISOString(),exercises:[]};h(t.id,l),a(`/execute/${t.id}`)};return e.jsxs(w,{className:"gap-3",children:[e.jsx("h2",{className:"text-4xl font-bold",children:t==null?void 0:t.name}),e.jsx("hr",{}),e.jsx("div",{className:"flex grow flex-col-reverse justify-end gap-4",children:!t||t.executions.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(o,{type:"button",variant:"outline",className:"w-full grow",asChild:!0,children:e.jsx(x,{to:"..",children:"Volver"})}),t&&t.exercises.length>0&&e.jsx(o,{type:"button",variant:"default",className:"w-full grow",onClick:g,children:"Empezar Rutina"})]}),e.jsx("img",{className:"h-64 w-full",src:O,alt:"History Empty State"})]}):t.executions.map(s=>e.jsx(v,{className:"flex flex-row items-center gap-4 p-4",children:e.jsx(E,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(R,{value:"item-1",children:[e.jsx(S,{children:e.jsx("h5",{className:"text-xl font-bold",children:D(s.date)})}),e.jsxs(b,{className:"flex flex-col gap-6",children:[e.jsx("ul",{className:"flex list-decimal flex-col gap-1 pl-6",children:s.exercises.map(l=>{const{sets:n,exerciseId:f}=l,r=t.exercises.find(i=>i.id===f);let c=0,u=0;n.forEach(i=>{c+=i.weight,u+=i.reps});const d=n.length?m(c/n.length,.5):null,j=n.length?m(u/n.length):null;return e.jsxs("li",{className:"flex flex-row items-baseline justify-between gap-1",children:[e.jsx("h5",{className:"text-lg",children:r==null?void 0:r.name}),e.jsx("p",{className:"text-foreground/50",children:n.length?`${n.length}x${j} ${d&&`${d}Kg`}`:"No hay ning√∫n set"})]},l.id)})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(o,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:e.jsx(x,{to:`/history/${t.id}/delete/${s.id}`,children:"Borrar Ejecucion"})})})]})]})})},s.id))}),e.jsx(I,{})]})}export{F as default};
