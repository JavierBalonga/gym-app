import{f as Te,r as M,$ as yt,_ as ht,j as c,g as de,h as xt,R as V,i as gt,B as X,o as Dr,s as be,n as Se,k as bt,v as kr,C as vt,P as pt,T as _t,S as Ft,b as Vt,c as At,d as wt}from"./index-0d2f6609.js";const jt=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),St=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Nr=Te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Cr=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Et=M.forwardRef((e,s)=>M.createElement(yt.label,ht({},e,{ref:s,onMouseDown:r=>{var t;(t=e.onMouseDown)===null||t===void 0||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),Ir=Et,Dt=xt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rr=M.forwardRef(({className:e,...s},r)=>c.jsx(Ir,{ref:r,className:de(Dt(),e),...s}));Rr.displayName=Ir.displayName;var pe=e=>e.type==="checkbox",ye=e=>e instanceof Date,$=e=>e==null;const Tr=e=>typeof e=="object";var O=e=>!$(e)&&!Array.isArray(e)&&Tr(e)&&!ye(e),Mr=e=>O(e)&&e.target?pe(e.target)?e.target.checked:e.target.value:e,kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Or=(e,s)=>e.has(kt(s)),Nt=e=>{const s=e.constructor&&e.constructor.prototype;return O(s)&&s.hasOwnProperty("isPrototypeOf")},or=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let s;const r=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(or&&(e instanceof Blob||e instanceof FileList))&&(r||O(e)))if(s=r?[]:{},!r&&!Nt(e))s=e;else for(const t in e)e.hasOwnProperty(t)&&(s[t]=P(e[t]));else return e;return s}var he=e=>Array.isArray(e)?e.filter(Boolean):[],N=e=>e===void 0,f=(e,s,r)=>{if(!s||!O(e))return r;const t=he(s.split(/[,[\].]+?/)).reduce((i,a)=>$(i)?i:i[a],e);return N(t)||t===e?N(e[s])?r:e[s]:t},ee=e=>typeof e=="boolean";const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ur=V.createContext(null),ie=()=>V.useContext(Ur),Ct=e=>{const{children:s,...r}=e;return V.createElement(Ur.Provider,{value:r},s)};var Lr=(e,s,r,t=!0)=>{const i={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const u=a;return s._proxyFormState[u]!==J.all&&(s._proxyFormState[u]=!t||J.all),r&&(r[u]=!0),e[u]}});return i},z=e=>O(e)&&!Object.keys(e).length,Pr=(e,s,r,t)=>{r(e);const{name:i,...a}=e;return z(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(u=>s[u]===(!t||J.all))},H=e=>Array.isArray(e)?e:[e],$r=(e,s,r)=>!e||!s||e===s||H(e).some(t=>t&&(r?t===s:t.startsWith(s)||s.startsWith(t)));function Me(e){const s=V.useRef(e);s.current=e,V.useEffect(()=>{const r=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function It(e){const s=ie(),{control:r=s.control,disabled:t,name:i,exact:a}=e||{},[u,h]=V.useState(r._formState),m=V.useRef(!0),_=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=V.useRef(i);return F.current=i,Me({disabled:t,next:A=>m.current&&$r(F.current,A.name,a)&&Pr(A,_.current,r._updateFormState)&&h({...r._formState,...A}),subject:r._subjects.state}),V.useEffect(()=>(m.current=!0,_.current.isValid&&r._updateValid(!0),()=>{m.current=!1}),[r]),Lr(u,r,_.current,!1)}var re=e=>typeof e=="string",Br=(e,s,r,t,i)=>re(e)?(t&&s.watch.add(e),f(r,e,i)):Array.isArray(e)?e.map(a=>(t&&s.watch.add(a),f(r,a))):(t&&(s.watchAll=!0),r);function Rt(e){const s=ie(),{control:r=s.control,name:t,defaultValue:i,disabled:a,exact:u}=e||{},h=V.useRef(t);h.current=t,Me({disabled:a,subject:r._subjects.values,next:F=>{$r(h.current,F.name,u)&&_(P(Br(h.current,r._names,F.values||r._formValues,!1,i)))}});const[m,_]=V.useState(r._getWatch(t,i));return V.useEffect(()=>r._removeUnmounted()),m}var lr=e=>/^\w*$/.test(e),qr=e=>he(e.replace(/["|']|\]/g,"").split(/\.|\[/));function D(e,s,r){let t=-1;const i=lr(s)?[s]:qr(s),a=i.length,u=a-1;for(;++t<a;){const h=i[t];let m=r;if(t!==u){const _=e[h];m=O(_)||Array.isArray(_)?_:isNaN(+i[t+1])?{}:[]}e[h]=m,e=e[h]}return e}function Tt(e){const s=ie(),{name:r,disabled:t,control:i=s.control,shouldUnregister:a}=e,u=Or(i._names.array,r),h=Rt({control:i,name:r,defaultValue:f(i._formValues,r,f(i._defaultValues,r,e.defaultValue)),exact:!0}),m=It({control:i,name:r}),_=V.useRef(i.register(r,{...e.rules,value:h}));return _.current=i.register(r,e.rules),V.useEffect(()=>{const F=i._options.shouldUnregister||a,A=(b,B)=>{const T=f(i._fields,b);T&&(T._f.mount=B)};if(A(r,!0),F){const b=P(f(i._options.defaultValues,r));D(i._defaultValues,r,b),N(f(i._formValues,r))&&D(i._formValues,r,b)}return()=>{(u?F&&!i._state.action:F)?i.unregister(r):A(r,!1)}},[r,i,u,a]),V.useEffect(()=>{f(i._fields,r)&&i._updateDisabledField({disabled:t,fields:i._fields,name:r,value:f(i._fields,r)._f.value})},[t,r,i]),{field:{name:r,value:h,...ee(t)||ee(m.disabled)?{disabled:m.disabled||t}:{},onChange:V.useCallback(F=>_.current.onChange({target:{value:Mr(F),name:r},type:ke.CHANGE}),[r]),onBlur:V.useCallback(()=>_.current.onBlur({target:{value:f(i._formValues,r),name:r},type:ke.BLUR}),[r,i]),ref:F=>{const A=f(i._fields,r);A&&F&&(A._f.ref={focus:()=>F.focus(),select:()=>F.select(),setCustomValidity:b=>F.setCustomValidity(b),reportValidity:()=>F.reportValidity()})}},formState:m,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(m.touchedFields,r)},error:{enumerable:!0,get:()=>f(m.errors,r)}})}}const Mt=e=>e.render(Tt(e));var Wr=(e,s,r,t,i)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[t]:i||!0}}:{},oe=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const r=(Math.random()*16+e)%16|0;return(s=="x"?r:r&3|8).toString(16)})},ze=(e,s,r={})=>r.shouldFocus||N(r.shouldFocus)?r.focusName||`${e}.${N(r.focusIndex)?s:r.focusIndex}.`:"",nr=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched}),ir=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ve=(e,s,r,t)=>{for(const i of r||Object.keys(e)){const a=f(e,i);if(a){const{_f:u,...h}=a;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],i)&&!t)break;if(u.ref&&s(u.ref,u.name)&&!t)break}else O(h)&&ve(h,s)}}};var zr=(e,s,r)=>{const t=he(f(e,r));return D(t,"root",s[r]),D(e,r,t),e},ur=e=>e.type==="file",le=e=>typeof e=="function",Ne=e=>{if(!or)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ee=e=>re(e),cr=e=>e.type==="radio",Ce=e=>e instanceof RegExp;const _r={value:!1,isValid:!1},Fr={value:!0,isValid:!0};var Hr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?Fr:{value:e[0].value,isValid:!0}:Fr:_r}return _r};const Vr={isValid:!1,value:null};var Gr=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Vr):Vr;function Ar(e,s,r="validate"){if(Ee(e)||Array.isArray(e)&&e.every(Ee)||ee(e)&&!e)return{type:r,message:Ee(e)?e:"",ref:s}}var me=e=>O(e)&&!Ce(e)?e:{value:e,message:""},ar=async(e,s,r,t,i)=>{const{ref:a,refs:u,required:h,maxLength:m,minLength:_,min:F,max:A,pattern:b,validate:B,name:T,valueAsNumber:G,mount:te,disabled:ae}=e._f,w=f(s,T);if(!te||ae)return{};const W=u?u[0]:a,Q=E=>{t&&W.reportValidity&&(W.setCustomValidity(ee(E)?"":E||""),W.reportValidity())},x={},v=cr(a),j=pe(a),I=v||j,L=(G||ur(a))&&N(a.value)&&N(w)||Ne(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,Y=Wr.bind(null,T,r,x),se=(E,S,C,q=ne.maxLength,K=ne.minLength)=>{const Z=E?S:C;x[T]={type:E?q:K,message:Z,ref:a,...Y(E?q:K,Z)}};if(i?!Array.isArray(w)||!w.length:h&&(!I&&(L||$(w))||ee(w)&&!w||j&&!Hr(u).isValid||v&&!Gr(u).isValid)){const{value:E,message:S}=Ee(h)?{value:!!h,message:h}:me(h);if(E&&(x[T]={type:ne.required,message:S,ref:W,...Y(ne.required,S)},!r))return Q(S),x}if(!L&&(!$(F)||!$(A))){let E,S;const C=me(A),q=me(F);if(!$(w)&&!isNaN(w)){const K=a.valueAsNumber||w&&+w;$(C.value)||(E=K>C.value),$(q.value)||(S=K<q.value)}else{const K=a.valueAsDate||new Date(w),Z=we=>new Date(new Date().toDateString()+" "+we),ue=a.type=="time",xe=a.type=="week";re(C.value)&&w&&(E=ue?Z(w)>Z(C.value):xe?w>C.value:K>new Date(C.value)),re(q.value)&&w&&(S=ue?Z(w)<Z(q.value):xe?w<q.value:K<new Date(q.value))}if((E||S)&&(se(!!E,C.message,q.message,ne.max,ne.min),!r))return Q(x[T].message),x}if((m||_)&&!L&&(re(w)||i&&Array.isArray(w))){const E=me(m),S=me(_),C=!$(E.value)&&w.length>+E.value,q=!$(S.value)&&w.length<+S.value;if((C||q)&&(se(C,E.message,S.message),!r))return Q(x[T].message),x}if(b&&!L&&re(w)){const{value:E,message:S}=me(b);if(Ce(E)&&!w.match(E)&&(x[T]={type:ne.pattern,message:S,ref:a,...Y(ne.pattern,S)},!r))return Q(S),x}if(B){if(le(B)){const E=await B(w,s),S=Ar(E,W);if(S&&(x[T]={...S,...Y(ne.validate,S.message)},!r))return Q(S.message),x}else if(O(B)){let E={};for(const S in B){if(!z(E)&&!r)break;const C=Ar(await B[S](w,s),W,S);C&&(E={...C,...Y(S,C.message)},Q(C.message),r&&(x[T]=E))}if(!z(E)&&(x[T]={ref:W,...E},!r))return x}}return Q(!0),x};function He(e,s){return[...e,...H(s)]}var Ge=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ke(e,s,r){return[...e.slice(0,s),...H(r),...e.slice(s)]}var Je=(e,s,r)=>Array.isArray(e)?(N(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(s,1)[0]),e):[];function Qe(e,s){return[...H(s),...H(e)]}function Ot(e,s){let r=0;const t=[...e];for(const i of s)t.splice(i-r,1),r++;return he(t).length?t:[]}var Xe=(e,s)=>N(s)?[]:Ot(e,H(s).sort((r,t)=>r-t)),Ye=(e,s,r)=>{e[s]=[e[r],e[r]=e[s]][0]};function Ut(e,s){const r=s.slice(0,-1).length;let t=0;for(;t<r;)e=N(e)?t++:e[s[t++]];return e}function Lt(e){for(const s in e)if(e.hasOwnProperty(s)&&!N(e[s]))return!1;return!0}function U(e,s){const r=Array.isArray(s)?s:lr(s)?[s]:qr(s),t=r.length===1?e:Ut(e,r),i=r.length-1,a=r[i];return t&&delete t[a],i!==0&&(O(t)&&z(t)||Array.isArray(t)&&Lt(t))&&U(e,r.slice(0,-1)),e}var wr=(e,s,r)=>(e[s]=r,e);function Pt(e){const s=ie(),{control:r=s.control,name:t,keyName:i="id",shouldUnregister:a}=e,[u,h]=V.useState(r._getFieldArray(t)),m=V.useRef(r._getFieldArray(t).map(oe)),_=V.useRef(u),F=V.useRef(t),A=V.useRef(!1);F.current=t,_.current=u,r._names.array.add(t),e.rules&&r.register(t,e.rules),Me({next:({values:x,name:v})=>{if(v===F.current||!v){const j=f(x,F.current);Array.isArray(j)&&(h(j),m.current=j.map(oe))}},subject:r._subjects.array});const b=V.useCallback(x=>{A.current=!0,r._updateFieldArray(t,x)},[r,t]),B=(x,v)=>{const j=H(P(x)),I=He(r._getFieldArray(t),j);r._names.focus=ze(t,I.length-1,v),m.current=He(m.current,j.map(oe)),b(I),h(I),r._updateFieldArray(t,I,He,{argA:Ge(x)})},T=(x,v)=>{const j=H(P(x)),I=Qe(r._getFieldArray(t),j);r._names.focus=ze(t,0,v),m.current=Qe(m.current,j.map(oe)),b(I),h(I),r._updateFieldArray(t,I,Qe,{argA:Ge(x)})},G=x=>{const v=Xe(r._getFieldArray(t),x);m.current=Xe(m.current,x),b(v),h(v),r._updateFieldArray(t,v,Xe,{argA:x})},te=(x,v,j)=>{const I=H(P(v)),L=Ke(r._getFieldArray(t),x,I);r._names.focus=ze(t,x,j),m.current=Ke(m.current,x,I.map(oe)),b(L),h(L),r._updateFieldArray(t,L,Ke,{argA:x,argB:Ge(v)})},ae=(x,v)=>{const j=r._getFieldArray(t);Ye(j,x,v),Ye(m.current,x,v),b(j),h(j),r._updateFieldArray(t,j,Ye,{argA:x,argB:v},!1)},w=(x,v)=>{const j=r._getFieldArray(t);Je(j,x,v),Je(m.current,x,v),b(j),h(j),r._updateFieldArray(t,j,Je,{argA:x,argB:v},!1)},W=(x,v)=>{const j=P(v),I=wr(r._getFieldArray(t),x,j);m.current=[...I].map((L,Y)=>!L||Y===x?oe():m.current[Y]),b(I),h([...I]),r._updateFieldArray(t,I,wr,{argA:x,argB:j},!0,!1)},Q=x=>{const v=H(P(x));m.current=v.map(oe),b([...v]),h([...v]),r._updateFieldArray(t,[...v],j=>j,{},!0,!1)};return V.useEffect(()=>{if(r._state.action=!1,ir(t,r._names)&&r._subjects.state.next({...r._formState}),A.current&&(!nr(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([t]).then(x=>{const v=f(x.errors,t),j=f(r._formState.errors,t);(j?!v&&j.type||v&&(j.type!==v.type||j.message!==v.message):v&&v.type)&&(v?D(r._formState.errors,t,v):U(r._formState.errors,t),r._subjects.state.next({errors:r._formState.errors}))});else{const x=f(r._fields,t);x&&x._f&&ar(x,r._formValues,r._options.criteriaMode===J.all,r._options.shouldUseNativeValidation,!0).then(v=>!z(v)&&r._subjects.state.next({errors:zr(r._formState.errors,v,t)}))}r._subjects.values.next({name:t,values:{...r._formValues}}),r._names.focus&&ve(r._fields,(x,v)=>{if(r._names.focus&&v.startsWith(r._names.focus)&&x.focus)return x.focus(),1}),r._names.focus="",r._updateValid(),A.current=!1},[u,t,r]),V.useEffect(()=>(!f(r._formValues,t)&&r._updateFieldArray(t),()=>{(r._options.shouldUnregister||a)&&r.unregister(t)}),[t,r,i,a]),{swap:V.useCallback(ae,[b,t,r]),move:V.useCallback(w,[b,t,r]),prepend:V.useCallback(T,[b,t,r]),append:V.useCallback(B,[b,t,r]),remove:V.useCallback(G,[b,t,r]),insert:V.useCallback(te,[b,t,r]),update:V.useCallback(W,[b,t,r]),replace:V.useCallback(Q,[b,t,r]),fields:V.useMemo(()=>u.map((x,v)=>({...x,[i]:m.current[v]||oe()})),[u,i])}}function Ze(){let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}}var Ie=e=>$(e)||!Tr(e);function ce(e,s){if(Ie(e)||Ie(s))return e===s;if(ye(e)&&ye(s))return e.getTime()===s.getTime();const r=Object.keys(e),t=Object.keys(s);if(r.length!==t.length)return!1;for(const i of r){const a=e[i];if(!t.includes(i))return!1;if(i!=="ref"){const u=s[i];if(ye(a)&&ye(u)||O(a)&&O(u)||Array.isArray(a)&&Array.isArray(u)?!ce(a,u):a!==u)return!1}}return!0}var Kr=e=>e.type==="select-multiple",$t=e=>cr(e)||pe(e),er=e=>Ne(e)&&e.isConnected,Jr=e=>{for(const s in e)if(le(e[s]))return!0;return!1};function Re(e,s={}){const r=Array.isArray(e);if(O(e)||r)for(const t in e)Array.isArray(e[t])||O(e[t])&&!Jr(e[t])?(s[t]=Array.isArray(e[t])?[]:{},Re(e[t],s[t])):$(e[t])||(s[t]=!0);return s}function Qr(e,s,r){const t=Array.isArray(e);if(O(e)||t)for(const i in e)Array.isArray(e[i])||O(e[i])&&!Jr(e[i])?N(s)||Ie(r[i])?r[i]=Array.isArray(e[i])?Re(e[i],[]):{...Re(e[i])}:Qr(e[i],$(s)?{}:s[i],r[i]):r[i]=!ce(e[i],s[i]);return r}var rr=(e,s)=>Qr(e,s,Re(s)),Xr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:t})=>N(e)?e:s?e===""?NaN:e&&+e:r&&re(e)?new Date(e):t?t(e):e;function tr(e){const s=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):s.disabled))return ur(s)?s.files:cr(s)?Gr(e.refs).value:Kr(s)?[...s.selectedOptions].map(({value:r})=>r):pe(s)?Hr(e.refs).value:Xr(N(s.value)?e.ref.value:s.value,e)}var Bt=(e,s,r,t)=>{const i={};for(const a of e){const u=f(s,a);u&&D(i,a,u._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:t}},ge=e=>N(e)?e:Ce(e)?e.source:O(e)?Ce(e.value)?e.value.source:e.value:e,qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function jr(e,s,r){const t=f(e,r);if(t||lr(r))return{error:t,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),u=f(s,a),h=f(e,a);if(u&&!Array.isArray(u)&&r!==a)return{name:r};if(h&&h.type)return{name:a,error:h};i.pop()}return{name:r}}var Wt=(e,s,r,t,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(s||e):(r?t.isOnBlur:i.isOnBlur)?!e:(r?t.isOnChange:i.isOnChange)?e:!0,zt=(e,s)=>!he(f(e,s)).length&&U(e,s);const Ht={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function Gt(e={},s){let r={...Ht,...e},t={submitCount:0,isDirty:!1,isLoading:le(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},i={},a=O(r.defaultValues)||O(r.values)?P(r.defaultValues||r.values)||{}:{},u=r.shouldUnregister?{}:P(a),h={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,F=0;const A={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ze(),array:Ze(),state:Ze()},B=e.resetOptions&&e.resetOptions.keepDirtyValues,T=nr(r.mode),G=nr(r.reValidateMode),te=r.criteriaMode===J.all,ae=n=>o=>{clearTimeout(F),F=setTimeout(n,o)},w=async n=>{if(A.isValid||n){const o=r.resolver?z((await L()).errors):await se(i,!0);o!==t.isValid&&b.state.next({isValid:o})}},W=n=>A.isValidating&&b.state.next({isValidating:n}),Q=(n,o=[],l,g,y=!0,d=!0)=>{if(g&&l){if(h.action=!0,d&&Array.isArray(f(i,n))){const p=l(f(i,n),g.argA,g.argB);y&&D(i,n,p)}if(d&&Array.isArray(f(t.errors,n))){const p=l(f(t.errors,n),g.argA,g.argB);y&&D(t.errors,n,p),zt(t.errors,n)}if(A.touchedFields&&d&&Array.isArray(f(t.touchedFields,n))){const p=l(f(t.touchedFields,n),g.argA,g.argB);y&&D(t.touchedFields,n,p)}A.dirtyFields&&(t.dirtyFields=rr(a,u)),b.state.next({name:n,isDirty:S(n,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(u,n,o)},x=(n,o)=>{D(t.errors,n,o),b.state.next({errors:t.errors})},v=(n,o,l,g)=>{const y=f(i,n);if(y){const d=f(u,n,N(l)?f(a,n):l);N(d)||g&&g.defaultChecked||o?D(u,n,o?d:tr(y._f)):K(n,d),h.mount&&w()}},j=(n,o,l,g,y)=>{let d=!1,p=!1;const k={name:n};if(!l||g){A.isDirty&&(p=t.isDirty,t.isDirty=k.isDirty=S(),d=p!==k.isDirty);const R=ce(f(a,n),o);p=f(t.dirtyFields,n),R?U(t.dirtyFields,n):D(t.dirtyFields,n,!0),k.dirtyFields=t.dirtyFields,d=d||A.dirtyFields&&p!==!R}if(l){const R=f(t.touchedFields,n);R||(D(t.touchedFields,n,l),k.touchedFields=t.touchedFields,d=d||A.touchedFields&&R!==l)}return d&&y&&b.state.next(k),d?k:{}},I=(n,o,l,g)=>{const y=f(t.errors,n),d=A.isValid&&ee(o)&&t.isValid!==o;if(e.delayError&&l?(_=ae(()=>x(n,l)),_(e.delayError)):(clearTimeout(F),_=null,l?D(t.errors,n,l):U(t.errors,n)),(l?!ce(y,l):y)||!z(g)||d){const p={...g,...d&&ee(o)?{isValid:o}:{},errors:t.errors,name:n};t={...t,...p},b.state.next(p)}W(!1)},L=async n=>r.resolver(u,r.context,Bt(n||m.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),Y=async n=>{const{errors:o}=await L(n);if(n)for(const l of n){const g=f(o,l);g?D(t.errors,l,g):U(t.errors,l)}else t.errors=o;return o},se=async(n,o,l={valid:!0})=>{for(const g in n){const y=n[g];if(y){const{_f:d,...p}=y;if(d){const k=m.array.has(d.name),R=await ar(y,u,te,r.shouldUseNativeValidation&&!o,k);if(R[d.name]&&(l.valid=!1,o))break;!o&&(f(R,d.name)?k?zr(t.errors,R,d.name):D(t.errors,d.name,R[d.name]):U(t.errors,d.name))}p&&await se(p,o,l)}}return l.valid},E=()=>{for(const n of m.unMount){const o=f(i,n);o&&(o._f.refs?o._f.refs.every(l=>!er(l)):!er(o._f.ref))&&$e(n)}m.unMount=new Set},S=(n,o)=>(n&&o&&D(u,n,o),!ce(dr(),a)),C=(n,o,l)=>Br(n,m,{...h.mount?u:N(o)?a:re(n)?{[n]:o}:o},l,o),q=n=>he(f(h.mount?u:a,n,e.shouldUnregister?f(a,n,[]):[])),K=(n,o,l={})=>{const g=f(i,n);let y=o;if(g){const d=g._f;d&&(!d.disabled&&D(u,n,Xr(o,d)),y=Ne(d.ref)&&$(o)?"":o,Kr(d.ref)?[...d.ref.options].forEach(p=>p.selected=y.includes(p.value)):d.refs?pe(d.ref)?d.refs.length>1?d.refs.forEach(p=>(!p.defaultChecked||!p.disabled)&&(p.checked=Array.isArray(y)?!!y.find(k=>k===p.value):y===p.value)):d.refs[0]&&(d.refs[0].checked=!!y):d.refs.forEach(p=>p.checked=p.value===y):ur(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||b.values.next({name:n,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&j(n,y,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Pe(n)},Z=(n,o,l)=>{for(const g in o){const y=o[g],d=`${n}.${g}`,p=f(i,d);(m.array.has(n)||!Ie(y)||p&&!p._f)&&!ye(y)?Z(d,y,l):K(d,y,l)}},ue=(n,o,l={})=>{const g=f(i,n),y=m.array.has(n),d=P(o);D(u,n,d),y?(b.array.next({name:n,values:{...u}}),(A.isDirty||A.dirtyFields)&&l.shouldDirty&&b.state.next({name:n,dirtyFields:rr(a,u),isDirty:S(n,d)})):g&&!g._f&&!$(d)?Z(n,d,l):K(n,d,l),ir(n,m)&&b.state.next({...t}),b.values.next({name:n,values:{...u}}),!h.mount&&s()},xe=async n=>{const o=n.target;let l=o.name,g=!0;const y=f(i,l),d=()=>o.type?tr(y._f):Mr(n),p=k=>{g=Number.isNaN(k)||k===f(u,l,k)};if(y){let k,R;const je=d(),fe=n.type===ke.BLUR||n.type===ke.FOCUS_OUT,dt=!qt(y._f)&&!r.resolver&&!f(t.errors,l)&&!y._f.deps||Wt(fe,f(t.touchedFields,l),t.isSubmitted,G,T),qe=ir(l,m,fe);D(u,l,je),fe?(y._f.onBlur&&y._f.onBlur(n),_&&_(0)):y._f.onChange&&y._f.onChange(n);const We=j(l,je,fe,!1),ft=!z(We)||qe;if(!fe&&b.values.next({name:l,type:n.type,values:{...u}}),dt)return A.isValid&&w(),ft&&b.state.next({name:l,...qe?{}:We});if(!fe&&qe&&b.state.next({...t}),W(!0),r.resolver){const{errors:vr}=await L([l]);if(p(je),g){const mt=jr(t.errors,i,l),pr=jr(vr,i,mt.name||l);k=pr.error,l=pr.name,R=z(vr)}}else k=(await ar(y,u,te,r.shouldUseNativeValidation))[l],p(je),g&&(k?R=!1:A.isValid&&(R=await se(i,!0)));g&&(y._f.deps&&Pe(y._f.deps),I(l,R,k,We))}},we=(n,o)=>{if(f(t.errors,o)&&n.focus)return n.focus(),1},Pe=async(n,o={})=>{let l,g;const y=H(n);if(W(!0),r.resolver){const d=await Y(N(n)?n:y);l=z(d),g=n?!y.some(p=>f(d,p)):l}else n?(g=(await Promise.all(y.map(async d=>{const p=f(i,d);return await se(p&&p._f?{[d]:p}:p)}))).every(Boolean),!(!g&&!t.isValid)&&w()):g=l=await se(i);return b.state.next({...!re(n)||A.isValid&&l!==t.isValid?{}:{name:n},...r.resolver||!n?{isValid:l}:{},errors:t.errors,isValidating:!1}),o.shouldFocus&&!g&&ve(i,we,n?y:m.mount),g},dr=n=>{const o={...a,...h.mount?u:{}};return N(n)?o:re(n)?f(o,n):n.map(l=>f(o,l))},fr=(n,o)=>({invalid:!!f((o||t).errors,n),isDirty:!!f((o||t).dirtyFields,n),isTouched:!!f((o||t).touchedFields,n),error:f((o||t).errors,n)}),ot=n=>{n&&H(n).forEach(o=>U(t.errors,o)),b.state.next({errors:n?t.errors:{}})},mr=(n,o,l)=>{const g=(f(i,n,{_f:{}})._f||{}).ref;D(t.errors,n,{...o,ref:g}),b.state.next({name:n,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},lt=(n,o)=>le(n)?b.values.subscribe({next:l=>n(C(void 0,o),l)}):C(n,o,!0),$e=(n,o={})=>{for(const l of n?H(n):m.mount)m.mount.delete(l),m.array.delete(l),o.keepValue||(U(i,l),U(u,l)),!o.keepError&&U(t.errors,l),!o.keepDirty&&U(t.dirtyFields,l),!o.keepTouched&&U(t.touchedFields,l),!r.shouldUnregister&&!o.keepDefaultValue&&U(a,l);b.values.next({values:{...u}}),b.state.next({...t,...o.keepDirty?{isDirty:S()}:{}}),!o.keepIsValid&&w()},yr=({disabled:n,name:o,field:l,fields:g,value:y})=>{if(ee(n)){const d=n?void 0:N(y)?tr(l?l._f:f(g,o)._f):y;D(u,o,d),j(o,d,!1,!1,!0)}},Be=(n,o={})=>{let l=f(i,n);const g=ee(o.disabled);return D(i,n,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:n}},name:n,mount:!0,...o}}),m.mount.add(n),l?yr({field:l,disabled:o.disabled,name:n}):v(n,!0,o.value),{...g?{disabled:o.disabled}:{},...r.progressive?{required:!!o.required,min:ge(o.min),max:ge(o.max),minLength:ge(o.minLength),maxLength:ge(o.maxLength),pattern:ge(o.pattern)}:{},name:n,onChange:xe,onBlur:xe,ref:y=>{if(y){Be(n,o),l=f(i,n);const d=N(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,p=$t(d),k=l._f.refs||[];if(p?k.find(R=>R===d):d===l._f.ref)return;D(i,n,{_f:{...l._f,...p?{refs:[...k.filter(er),d,...Array.isArray(f(a,n))?[{}]:[]],ref:{type:d.type,name:n}}:{ref:d}}}),v(n,!1,void 0,d)}else l=f(i,n,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(Or(m.array,n)&&h.action)&&m.unMount.add(n)}}},hr=()=>r.shouldFocusError&&ve(i,we,m.mount),ut=n=>{ee(n)&&(b.state.next({disabled:n}),ve(i,o=>{o.disabled=n},0,!1))},xr=(n,o)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let g=P(u);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:y,values:d}=await L();t.errors=y,g=d}else await se(i);U(t.errors,"root"),z(t.errors)?(b.state.next({errors:{}}),await n(g,l)):(o&&await o({...t.errors},l),hr(),setTimeout(hr)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:z(t.errors),submitCount:t.submitCount+1,errors:t.errors})},ct=(n,o={})=>{f(i,n)&&(N(o.defaultValue)?ue(n,f(a,n)):(ue(n,o.defaultValue),D(a,n,o.defaultValue)),o.keepTouched||U(t.touchedFields,n),o.keepDirty||(U(t.dirtyFields,n),t.isDirty=o.defaultValue?S(n,f(a,n)):S()),o.keepError||(U(t.errors,n),A.isValid&&w()),b.state.next({...t}))},gr=(n,o={})=>{const l=n?P(n):a,g=P(l),y=n&&!z(n)?g:a;if(o.keepDefaultValues||(a=l),!o.keepValues){if(o.keepDirtyValues||B)for(const d of m.mount)f(t.dirtyFields,d)?D(y,d,f(u,d)):ue(d,f(y,d));else{if(or&&N(n))for(const d of m.mount){const p=f(i,d);if(p&&p._f){const k=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(Ne(k)){const R=k.closest("form");if(R){R.reset();break}}}}i={}}u=e.shouldUnregister?o.keepDefaultValues?P(a):{}:P(y),b.array.next({values:{...y}}),b.values.next({values:{...y}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!h.mount&&s(),h.mount=!A.isValid||!!o.keepIsValid,h.watch=!!e.shouldUnregister,b.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!ce(n,a)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:o.keepDirtyValues?t.dirtyFields:o.keepDefaultValues&&n?rr(a,n):{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},br=(n,o)=>gr(le(n)?n(u):n,o);return{control:{register:Be,unregister:$e,getFieldState:fr,handleSubmit:xr,setError:mr,_executeSchema:L,_getWatch:C,_getDirty:S,_updateValid:w,_removeUnmounted:E,_updateFieldArray:Q,_updateDisabledField:yr,_getFieldArray:q,_reset:gr,_resetDefaultValues:()=>le(r.defaultValues)&&r.defaultValues().then(n=>{br(n,r.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:n=>{t={...t,...n}},_disableForm:ut,_subjects:b,_proxyFormState:A,get _fields(){return i},get _formValues(){return u},get _state(){return h},set _state(n){h=n},get _defaultValues(){return a},get _names(){return m},set _names(n){m=n},get _formState(){return t},set _formState(n){t=n},get _options(){return r},set _options(n){r={...r,...n}}},trigger:Pe,register:Be,handleSubmit:xr,watch:lt,setValue:ue,getValues:dr,reset:br,resetField:ct,clearErrors:ot,unregister:$e,setError:mr,setFocus:(n,o={})=>{const l=f(i,n),g=l&&l._f;if(g){const y=g.refs?g.refs[0]:g.ref;y.focus&&(y.focus(),o.shouldSelect&&y.select())}},getFieldState:fr}}function Yr(e={}){const s=V.useRef(),r=V.useRef(),[t,i]=V.useState({isDirty:!1,isValidating:!1,isLoading:le(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:le(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Gt(e,()=>i(u=>({...u}))),formState:t});const a=s.current.control;return a._options=e,Me({subject:a._subjects.state,next:u=>{Pr(u,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),V.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),V.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==t.isDirty&&a._subjects.state.next({isDirty:u})}},[a,t.isDirty]),V.useEffect(()=>{e.values&&!ce(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values):a._resetDefaultValues()},[e.values,a]),V.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=Lr(t,a),s.current}const Zr=Ct,et=M.createContext({}),Oe=({...e})=>c.jsx(et.Provider,{value:{name:e.name},children:c.jsx(Mt,{...e})}),Ue=()=>{const e=M.useContext(et),s=M.useContext(rt),{getFieldState:r,formState:t}=ie(),i=r(e.name,t);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=s;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},rt=M.createContext({}),_e=M.forwardRef(({className:e,...s},r)=>{const t=M.useId();return c.jsx(rt.Provider,{value:{id:t},children:c.jsx("div",{ref:r,className:de("space-y-2",e),...s})})});_e.displayName="FormItem";const Fe=M.forwardRef(({className:e,...s},r)=>{const{error:t,formItemId:i}=Ue();return c.jsx(Rr,{ref:r,className:de(t&&"text-destructive",e),htmlFor:i,...s})});Fe.displayName="FormLabel";const Ve=M.forwardRef(({...e},s)=>{const{error:r,formItemId:t,formDescriptionId:i,formMessageId:a}=Ue();return c.jsx(gt,{ref:s,id:t,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});Ve.displayName="FormControl";const Kt=M.forwardRef(({className:e,...s},r)=>{const{formDescriptionId:t}=Ue();return c.jsx("p",{ref:r,id:t,className:de("text-[0.8rem] text-muted-foreground",e),...s})});Kt.displayName="FormDescription";const Ae=M.forwardRef(({className:e,children:s,...r},t)=>{const{error:i,formMessageId:a}=Ue(),u=i?String(i==null?void 0:i.message):s;return u?c.jsx("p",{ref:t,id:a,className:de("text-[0.8rem] font-medium text-destructive",e),...r,children:u}):null});Ae.displayName="FormMessage";const Le=M.forwardRef(({className:e,type:s,...r},t)=>c.jsx("input",{type:s,className:de("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));Le.displayName="Input";function tt({name:e,label:s,placeholder:r}){const{control:t}=ie();return c.jsx(Oe,{control:t,name:e,render:({field:i})=>c.jsxs(_e,{children:[c.jsx(Fe,{children:s}),c.jsx(Ve,{children:c.jsx(Le,{placeholder:r,...i})}),c.jsx(Ae,{})]})})}var Sr=function(e,s,r){if(e&&"reportValidity"in e){var t=f(r,s);e.setCustomValidity(t&&t.message||""),e.reportValidity()}},st=function(e,s){var r=function(i){var a=s.fields[i];a&&a.ref&&"reportValidity"in a.ref?Sr(a.ref,i,e):a.refs&&a.refs.forEach(function(u){return Sr(u,i,e)})};for(var t in s.fields)r(t)},Jt=function(e,s){s.shouldUseNativeValidation&&st(e,s);var r={};for(var t in e){var i=f(s.fields,t),a=Object.assign(e[t]||{},{ref:i&&i.ref});if(Xt(s.names||Object.keys(e),t)){var u=Object.assign({},Qt(f(r,t)));D(u,"root",a),D(r,t,u)}else D(r,t,a)}return r},Qt=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Xt=function(e,s){return e.some(function(r){return r.startsWith(s+".")})},Yt=function(e,s){for(var r={};e.length;){var t=e[0],i=t.code,a=t.message,u=t.path.join(".");if(!r[u])if("unionErrors"in t){var h=t.unionErrors[0].errors[0];r[u]={message:h.message,type:h.code}}else r[u]={message:a,type:i};if("unionErrors"in t&&t.unionErrors.forEach(function(F){return F.errors.forEach(function(A){return e.push(A)})}),s){var m=r[u].types,_=m&&m[t.code];r[u]=Wr(u,s,r,i,_?[].concat(_,t.message):t.message)}e.shift()}return r},nt=function(e,s,r){return r===void 0&&(r={}),function(t,i,a){try{return Promise.resolve(function(u,h){try{var m=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](t,s)).then(function(_){return a.shouldUseNativeValidation&&st({},a),{errors:{},values:r.raw?t:_}})}catch(_){return h(_)}return m&&m.then?m.then(void 0,h):m}(0,function(u){if(function(h){return h.errors!=null}(u))return{values:{},errors:Jt(Yt(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}};function Zt({render:e,...s}){const r=Pt(s);return c.jsx(c.Fragment,{children:e(r)})}function De(e,s,r){return Math.min(Math.max(e,s),r)}function sr({name:e,label:s,step:r=1,min:t=-1/0,max:i=1/0}){const{control:a}=ie();return c.jsx(Oe,{control:a,name:e,render:function({field:{onChange:h,value:m,..._}}){const[F,A]=M.useState(String(m));M.useEffect(()=>{Number(F)!==m&&A(String(m))},[m]);const b=G=>{const te=G.target.value.replace(/[^0-9.]/g,"");A(te);const ae=Number(te);Number.isNaN(ae)||h(De(t,ae,i))},B=()=>{const G=(Number(m)??0)+r;h(De(t,G,i))},T=()=>{const G=(Number(m)??0)-r;h(De(t,G,i))};return c.jsxs(_e,{children:[c.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c.jsx(Fe,{children:s}),c.jsx("div",{className:"grow"}),c.jsx(X,{variant:"outline",size:"icon",type:"button",onClick:T,tabIndex:-1,children:c.jsx(Nr,{className:"h-[1.2em] w-[1.2em]"})}),c.jsx(Ve,{children:c.jsx(Le,{className:"w-[5em] text-center",..._,value:F,onChange:b})}),c.jsx(X,{variant:"outline",size:"icon",type:"button",onClick:B,tabIndex:-1,children:c.jsx(Cr,{className:"h-[1.2em] w-[1.2em]"})})]}),c.jsx(Ae,{})]})}})}const it=M.forwardRef(({className:e,...s},r)=>c.jsx("textarea",{className:de("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));it.displayName="Textarea";function es({name:e,label:s,placeholder:r}){const{control:t}=ie();return c.jsx(Oe,{control:t,name:e,render:({field:i})=>c.jsxs(_e,{children:[c.jsx(Fe,{children:s}),c.jsx(Ve,{children:c.jsx(it,{...i,placeholder:r})}),c.jsx(Ae,{})]})})}const rs=new Intl.DateTimeFormat("es-ES",{minute:"numeric",second:"2-digit"});function ts(e){return rs.format(new Date(e))}function ss({name:e,label:s,step:r=15e3,min:t=-1/0,max:i=1/0}){const{control:a}=ie();return c.jsx(Oe,{control:a,name:e,render:({field:{onChange:u,value:h,...m}})=>{const _=F=>{u(De(t,F,i))};return c.jsxs(_e,{children:[c.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c.jsx(Fe,{children:s}),c.jsx("div",{className:"grow"}),c.jsx(X,{variant:"outline",size:"icon",type:"button",onClick:()=>_((Number(h)??0)-r),tabIndex:-1,children:c.jsx(Nr,{className:"h-[1.2em] w-[1.2em]"})}),c.jsx(Ve,{children:c.jsx(Le,{className:"w-[5em] text-center",...m,value:ts(h),disabled:!0})}),c.jsx(X,{variant:"outline",size:"icon",type:"button",onClick:()=>_((Number(h)??0)+r),tabIndex:-1,children:c.jsx(Cr,{className:"h-[1.2em] w-[1.2em]"})})]}),c.jsx(Ae,{})]})}})}const at=Dr({id:be().uuid(),name:be().min(1,{message:"El nombre no puede estar vacío."}).max(50,{message:"El nombre debe tener como máximo 50 caracteres."}),sets:Se().int({message:"El número de series debe ser un número entero."}).min(1,"Debe haber al menos una serie."),reps:Se().int({message:"El número de repeticiones debe ser un número entero."}).min(1,"Debe haber al menos una repetición."),weight:Se().min(0,{message:"El peso debe ser un número positivo."}),rest:Se().int({message:"El tiempo de descanso debe ser un número entero."}).min(0,{message:"El tiempo de descanso debe ser un número positivo."}),comment:be().max(512,{message:"El comentario debe tener como máximo 50 caracteres."})}),ns=Dr({id:be().uuid(),name:be().min(1,{message:"El nombre no puede estar vacío."}).max(50,{message:"El nombre debe tener como máximo 50 caracteres."}),exercises:bt(at)});function Er({defaultValues:e,onSubmit:s}){const r=Yr({resolver:nt(at),defaultValues:e||{id:kr(),name:"",sets:1,reps:1,weight:0,rest:12e4,comment:""}}),t=r.handleSubmit(i=>{s==null||s(i)});return c.jsx(Zr,{...r,children:c.jsxs("form",{className:"flex grow flex-col gap-4",onSubmit:i=>{i.stopPropagation(),t(i)},children:[c.jsx(tt,{name:"name",label:"Nombre",placeholder:"Mi Ejercicio..."}),c.jsx(sr,{name:"sets",label:"Series",min:1,max:99}),c.jsx(sr,{name:"reps",label:"Repeticiones",min:1,max:99}),c.jsx(sr,{name:"weight",label:"Peso",min:0,step:.5,max:500}),c.jsx(ss,{name:"rest",label:"Descanso",min:0,step:15e3,max:6e5}),c.jsx(es,{name:"comment",label:"Comentario"}),c.jsx("div",{className:"grow"}),c.jsx(X,{type:"submit",children:"Guardar"})]})})}function is(){const[e,s]=M.useState(!1),[r,t]=M.useState(null);return c.jsx(Zt,{name:"exercises",keyName:"id",render:({fields:i,append:a,swap:u,update:h,remove:m})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"-mx-3 flex h-0 grow flex-col gap-4 overflow-auto px-3",children:i.map((_,F)=>c.jsxs(vt,{className:"flex flex-row items-center gap-4 p-4",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(F,F-1),disabled:F===0,children:c.jsx(St,{className:"h-[1.2em] w-[1.2em]"})}),c.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(F,F+1),disabled:F===i.length-1,children:c.jsx(jt,{className:"h-[1.2em] w-[1.2em]"})})]}),c.jsxs("div",{className:"flex grow flex-col gap-2",children:[c.jsx("h5",{className:"text-xl font-bold",children:_.name}),c.jsxs("p",{className:"text-foreground/50",children:[_.sets,"x",_.reps," ",_.weight&&`${_.weight}Kg`]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(X,{type:"button",variant:"outline",size:"icon",onClick:()=>t(F),children:c.jsx(pt,{className:"h-[1.2em] w-[1.2em]"})}),c.jsx(X,{type:"button",variant:"outline",size:"icon",onClick:()=>m(F),children:c.jsx(_t,{className:"h-[1.2em] w-[1.2em]"})})]})]},_.id))}),c.jsx(X,{type:"button",variant:"outline",onClick:()=>s(!0),children:"Agregar Ejercicio"}),c.jsx(Ft,{open:e||r!==null,onOpenChange:_=>{_||(s(!1),t(null))},children:c.jsxs(Vt,{children:[c.jsx(At,{children:c.jsx(wt,{children:e?"Nuevo Ejercicio":"Editar Ejercicio"})}),e&&c.jsx(Er,{onSubmit:_=>{a(_),s(!1)}}),r!==null&&c.jsx(Er,{defaultValues:i[r],onSubmit:_=>{h(r,_),t(null)}})]})})]})})}function cs({defaultValues:e,onSubmit:s}){const r=Yr({resolver:nt(ns),defaultValues:e||{id:kr(),name:"",exercises:[]}});return c.jsx(Zr,{...r,children:c.jsxs("form",{className:"flex grow flex-col gap-4",onSubmit:r.handleSubmit(t=>s==null?void 0:s(t)),children:[c.jsx(tt,{name:"name",label:"Nombre",placeholder:"Mi Rutina..."}),c.jsx(is,{}),c.jsx(X,{type:"submit",children:"Guardar"})]})})}export{cs as R};
