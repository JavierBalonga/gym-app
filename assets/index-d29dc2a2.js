import{u as p,e as N,a as y,j as e,q as v,B as r,L as x,C as w,A as R,s as E,t as b,w as S,x as u,O as I,v as $,y as C}from"./index-9697b5a5.js";import{f as A}from"./formatDatetime-5e7a53d0.js";const O="/gym-app/assets/empty-history-19fd88fb.svg";function k(){const h=p(),s=N(),m=y(t=>t.addRoutineExecution),g=()=>{if(!s)return;const l={id:$(),status:C.IN_PROGRESS,date:new Date().toISOString(),exercises:[]};m(s.id,l),h(`/execute/${s.id}`)};return e.jsxs(v,{className:"gap-3",children:[e.jsx("h2",{className:"text-4xl font-bold",children:s==null?void 0:s.name}),e.jsx("hr",{}),e.jsx("div",{className:"flex grow flex-col-reverse justify-end gap-4",children:!s||s.executions.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(r,{type:"button",variant:"outline",className:"w-full grow",asChild:!0,children:e.jsx(x,{to:"..",children:"Volver"})}),s&&s.exercises.length>0&&e.jsx(r,{type:"button",variant:"default",className:"w-full grow",onClick:g,children:"Empezar Rutina"})]}),e.jsx("img",{className:"h-64 w-full",src:O,alt:"History Empty State"})]}):s.executions.map(t=>e.jsx(w,{className:"flex flex-row items-center gap-4 p-4",children:e.jsx(R,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(E,{value:"item-1",children:[e.jsx(b,{children:e.jsx("h5",{className:"text-xl font-bold",children:A(t.date)})}),e.jsxs(S,{className:"flex flex-col gap-6",children:[e.jsx("ul",{className:"flex list-decimal flex-col gap-1 pl-6",children:t.exercises.map(l=>{const{sets:a,exerciseId:f}=l,i=s.exercises.find(n=>n.id===f);let o=0,c=0;a.forEach(n=>{o+=n.weight,c+=n.reps});const d=a.length?u(o/a.length,.5):null,j=a.length?u(c/a.length):null;return e.jsxs("li",{className:"flex flex-row items-baseline justify-between gap-1",children:[e.jsx("h5",{className:"text-lg",children:i==null?void 0:i.name}),e.jsx("p",{className:"text-foreground/50",children:a.length?`${a.length}x${j} ${d&&`${d}Kg`}`:"No hay ning√∫n set"})]},l.id)})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(r,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:e.jsx(x,{to:`/history/${s.id}/delete/${t.id}`,children:"Borrar Ejecucion"})})})]})]})})},t.id))}),e.jsx(I,{})]})}export{k as default};
