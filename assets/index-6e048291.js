import{u as m,e as h,a as f,j as e,x as j,B as n,L as o,C as g,A as p,y as N,z as y,E as w,O as v,v as E,F as R}from"./index-f5a131c3.js";import{f as b}from"./formatDatetime-5e7a53d0.js";const S="/gym-app/assets/empty-history-19fd88fb.svg";function $(){const c=m(),s=h(),d=f(t=>t.addRoutineExecution),x=()=>{if(!s)return;const l={id:E(),status:R.IN_PROGRESS,date:new Date().toISOString(),exercises:[]};d(s.id,l),c(`/execute/${s.id}`)};return e.jsxs(j,{className:"gap-3",children:[e.jsx("h2",{className:"text-4xl font-bold",children:s==null?void 0:s.name}),e.jsx("hr",{}),e.jsx("div",{className:"flex grow flex-col-reverse justify-end gap-4",children:!s||s.executions.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(n,{type:"button",variant:"outline",className:"w-full grow",asChild:!0,children:e.jsx(o,{to:"..",children:"Volver"})}),s&&s.exercises.length>0&&e.jsx(n,{type:"button",variant:"default",className:"w-full grow",onClick:x,children:"Empezar Rutina"})]}),e.jsx("img",{className:"h-64 w-full",src:S,alt:"History Empty State"})]}):s.executions.map(t=>e.jsx(g,{className:"flex flex-row items-center gap-4 p-4",children:e.jsx(p,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(N,{value:"item-1",children:[e.jsx(y,{children:e.jsx("h5",{className:"text-xl font-bold",children:b(t.date)})}),e.jsxs(w,{className:"flex flex-col gap-6",children:[e.jsx("ul",{className:"flex list-decimal flex-col gap-1 pl-6",children:t.exercises.map(l=>{const{sets:r,exerciseId:u}=l,i=s.exercises.find(a=>a.id===u);return e.jsxs("li",{className:"flex flex-row items-baseline justify-between gap-1",children:[e.jsx("h5",{className:"text-lg",children:i==null?void 0:i.name}),e.jsx("p",{className:"text-foreground/50",children:r.length?r.map(a=>`${a.reps}${a.weight&&`x${a.weight}Kg`}`).join(" | "):"No hay ning√∫n set"})]},l.id)})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:e.jsx(o,{to:`/history/${s.id}/delete/${t.id}`,children:"Borrar Ejecucion"})})})]})]})})},t.id))}),e.jsx(v,{})]})}export{$ as default};
