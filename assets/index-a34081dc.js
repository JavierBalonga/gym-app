import{u as p,e as j,a as y,j as e,q as N,B as x,L as w,C as v,A as R,s as E,t as S,w as b,x as d,v as I,y as A}from"./index-d56223d2.js";const C=new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});function $(n){return typeof n=="string"&&(n=new Date(n)),C.format(n)}const D="/gym-app/assets/empty-history-19fd88fb.svg";function H(){const n=p(),t=j(),m=y(a=>a.addRoutineExecution),h=()=>{if(!t)return;const l={id:I(),status:A.IN_PROGRESS,date:new Date().toISOString(),exercises:[]};m(t.id,l),n(`/execute/${t.id}`)};return e.jsxs(N,{className:"gap-3",children:[e.jsx("h2",{className:"text-4xl font-bold",children:t==null?void 0:t.name}),e.jsx("hr",{}),e.jsx("div",{className:"flex grow flex-col-reverse justify-end gap-4",children:!t||t.executions.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(x,{type:"button",variant:"outline",className:"w-full grow",asChild:!0,children:e.jsx(w,{to:"..",children:"Volver"})}),t&&t.exercises.length>0&&e.jsx(x,{type:"button",variant:"default",className:"w-full grow",onClick:h,children:"Empezar Rutina"})]}),e.jsx("img",{className:"h-64 w-full",src:D,alt:"History Empty State"})]}):t.executions.map(a=>e.jsx(v,{className:"flex flex-row items-center gap-4 p-4",children:e.jsx(R,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(E,{value:"item-1",children:[e.jsx(S,{children:e.jsx("h5",{className:"text-xl font-bold",children:$(a.date)})}),e.jsx(b,{className:"flex flex-col gap-1",children:e.jsx("ul",{className:"flex list-decimal flex-col gap-1 pl-6",children:a.exercises.map(l=>{const{sets:s,exerciseId:g}=l,r=t.exercises.find(i=>i.id===g);let o=0,c=0;s.forEach(i=>{o+=i.weight,c+=i.reps});const u=s.length?d(o/s.length,.5):null,f=s.length?d(c/s.length):null;return e.jsxs("li",{className:"flex flex-row items-baseline justify-between gap-1",children:[e.jsx("h5",{className:"text-lg",children:r==null?void 0:r.name}),e.jsx("p",{className:"text-foreground/50",children:s.length?`${s.length}x${f} ${u&&`${u}Kg`}`:"No hay ning√∫n set"})]},l.id)})})})]})})},a.id))})]})}export{H as default};
